[{"/Users/owenschoppe/Documents/GitHub/craigschoppe/src/index.js":"1","/Users/owenschoppe/Documents/GitHub/craigschoppe/src/App.js":"2","/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/tile.jsx":"3","/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/Tile.jsx":"4","/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/Controls.jsx":"5","/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/FolderSelector.jsx":"6","/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/TitleBlock.jsx":"7","/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/Attribution.jsx":"8"},{"size":219,"mtime":1611360980871,"results":"9","hashOfConfig":"10"},{"size":5960,"mtime":1611538929585,"results":"11","hashOfConfig":"10"},{"size":311,"mtime":1611363450884,"results":"12","hashOfConfig":"10"},{"size":320,"mtime":1611363786324,"results":"13","hashOfConfig":"10"},{"size":1950,"mtime":1611525217745,"results":"14","hashOfConfig":"10"},{"size":923,"mtime":1611539124379,"results":"15","hashOfConfig":"10"},{"size":610,"mtime":1611523774310,"results":"16","hashOfConfig":"10"},{"size":1266,"mtime":1611539133991,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"avswwr",{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/owenschoppe/Documents/GitHub/craigschoppe/src/index.js",[],["40","41"],"/Users/owenschoppe/Documents/GitHub/craigschoppe/src/App.js",["42","43"],"import { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Controls } from \"./components/Controls\";\nimport { FolderSelector } from \"./components/FolderSelector\";\nimport { TitleBlock } from \"./components/TitleBlock\";\nimport { Attribution } from \"./components/Attribution\";\nimport { css, cx } from \"@emotion/css\";\nimport ig from \"./instagram.png\";\n\nconst getFiles = async () => {\n    const data = await (await fetch(\"/files\")).json();\n\n    const images = data[0].filter((file) => file.name.slice(-1) !== \"/\"); //Filter out folders\n    // .map((file) => file.id);\n    const folders = data[0].filter((file) => file.name.slice(-1) === \"/\"); //Find folders\n    // .map((folder) => folder.id);\n    console.log(data, images, folders);\n    return { images, folders };\n};\n\nconst getImages = (images, folder) => {\n    return images.filter((image) => image.id.startsWith(folder.id));\n};\n\nconst appStyle = css`\n    background-color: black;\n    color: white;\n    display: flex;\n    height: 100vh;\n    flex-direction: column;\n`;\n\nconst headerStyle = css`\n    display: flex;\n    flex: 1 0 auto;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0;\n    padding-left: 1rem;\n    padding-right: 0.125rem;\n    font-family: \"Cormorant Garamond\", serif;\n`;\n\nconst h1 = css`\n    margin: 1rem 0;\n    font-size: 1.25rem;\n    @media (min-width: 375px) {\n        font-size: 1.5rem;\n    }\n    @media (min-width: 420px) {\n        font-size: 2rem;\n    }\n`;\n\nconst name = css`\n    flex: 0 0 auto;\n    margin-left: 0.125rem;\n`;\n\nconst galleryStyle = css`\n    max-height: 100%;\n    max-width: 100%;\n    min-height: 0;\n    min-width: 0;\n    display: flex;\n    flex: 1 1 100%;\n    justify-content: center;\n    align-items: center;\n    margin: 1rem 0;\n    @media (min-width: 420px) {\n        margin: 1rem;\n    }\n    @media (min-width: 720px) {\n        margin: 3rem;\n    }\n`;\n\nconst imageStyle = css`\n    max-height: 100%;\n    max-width: 100%;\n    width: 100%;\n    @media (min-width: 720px) {\n        width: auto;\n    }\n    display: block;\n    align-self: center;\n`;\n\nconst instagramStyle = css`\n    width: 24px;\n    height: 24px;\n    content: \"\";\n    display: block;\n    background-image: url(${ig});\n    filter: invert(100%);\n    background-size: contain;\n    background-repeat: no-repeat;\n    margin-left: 0.25rem;\n`;\n\nconst footerStyle = css`\n    display: flex;\n    flex: 1 0 auto;\n    justify-content: center;\n    margin-left: 1rem;\n    margin-right: 1rem;\n    margin-bottom: 1rem;\n    @media (min-width: 720px) {\n        margin-left: 3rem;\n        margin-right: 3rem;\n    }\n`;\n\nfunction App() {\n    const [allImages, setAllImages] = useState([]);\n    const [images, setImages] = useState([]);\n    const [image, setImage] = useState(null);\n    const [folders, setFolders] = useState([]);\n    const [folder, setFolder] = useState(null);\n\n    const [index, setIndex] = useState(0); // Make sticky?\n\n    // Intialize app\n    useEffect(() => {\n        getFiles().then(({ images, folders }) => {\n            setAllImages(images);\n            setFolders(folders);\n            setFolder(~~(Math.random() * folders.length)); // For random folder\n        });\n    }, []);\n\n    useEffect(() => {\n        console.log(images, folders, folder);\n        if (folder !== null) setImages(getImages(allImages, folders[folder]));\n    }, [allImages, folder]);\n\n    useEffect(() => {\n        console.log(images, index);\n        if (images) setImage(images[index]);\n    }, [images, index]);\n\n    const prevImage = () => {\n        if (index === 0) {\n            prevFolder();\n        } else {\n            setIndex((index - 1 + images.length) % images.length);\n        }\n    };\n\n    const nextImage = () => {\n        if (index === images.length - 1) {\n            nextFolder();\n        } else {\n            setIndex((index + 1) % images.length);\n        }\n    };\n\n    const prevFolder = () => {\n        const newFolder = (folder - 1 + folders.length) % folders.length;\n        const newImages = getImages(allImages, folders[newFolder]); //Can this be optimized away?\n        setIndex(newImages.length - 1);\n        setFolder(newFolder);\n    };\n\n    const nextFolder = () => {\n        setIndex(0);\n        setFolder((folder + 1 + folders.length) % folders.length);\n    };\n\n    return (\n        <div className={appStyle}>\n            <h1 className={cx(headerStyle, h1)}>\n                <FolderSelector\n                    folder={folder}\n                    folders={folders}\n                    nextFolder={nextFolder}\n                />\n                <span className={cx(name)}>\n                    by Craig Schoppe\n                    <Attribution />\n                </span>\n            </h1>\n            <div className={galleryStyle}>\n                {image ? (\n                    <img\n                        className={imageStyle}\n                        sizes=\"100vw\"\n                        src={`https://storage.googleapis.com/craigschoppe-images/${image.id}`}\n                        srcset={`https://storage.googleapis.com/craigschoppe-images/${image.id} 1920w, https://storage.googleapis.com/craigschoppe-images-small/${image.id} 800w`}\n                        alt={`${image.name}, a photograph by Craig Schoppe.`}\n                        height=\"\"\n                        width=\"\"\n                    />\n                ) : null}\n            </div>\n            <div className={footerStyle}>\n                <Controls\n                    image={image}\n                    handleNext={nextImage}\n                    handlePrev={prevImage}\n                >\n                    <TitleBlock image={image} />\n                </Controls>\n            </div>\n            {/* <a\n                        className={instagramStyle}\n                        href=\"https://www.instagram.com/wood_by_schoppe/\"\n                    >\n                        <span className=\"assistiveText\">Instagram</span>\n                    </a> */}\n        </div>\n    );\n}\n\nexport default App;\n","/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/tile.jsx",["44"],"const Tile = (props) => {\n    const { image } = props;\n    return (\n        <a className=\"tile\">\n            <img\n                src={`https://storage.googleapis.com/craigschoppe-images/${image}`}\n                alt={image}\n                height=\"350\"\n            />\n        </a>\n    );\n};\n\nexport { Tile };\n","/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/Tile.jsx",["45"],"const Tile = (props) => {\n    const { image } = props;\n    return (\n        <a className=\"tile\" href=\"#\">\n            <img\n                src={`https://storage.googleapis.com/craigschoppe-images/${image}`}\n                alt={image}\n                height=\"350\"\n            />\n        </a>\n    );\n};\n\nexport { Tile };\n",["46","47"],"/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/Controls.jsx",["48","49","50","51"],"import { useEffect, useCallback } from \"react\";\nimport { css, cx } from \"@emotion/css\";\nimport arrow from \"../arrow.svg\";\n\nconst controlsStyle = css`\n    font-family: \"Poppins\", sans-serif;\n    display: flex;\n    flex: 1 1 auto;\n    justify-content: space-between;\n    align-items: center;\n`;\n\nconst button = css`\n    width: 60px;\n    height: 60px;\n    color: white;\n    background: none;\n    border: none;\n    &:hover {\n        outline: none;\n        border: 1px solid #ccc;\n    }\n    &:focus {\n        outline: none;\n        border: 1px solid white;\n    }\n`;\n\nconst prev = css`\n    transform: rotate(180deg);\n    justify-self: center;\n    align-self: center;\n    width: 20px;\n    height: 20px;\n`;\nconst next = css`\n    justify-self: center;\n    align-self: center;\n    width: 20px;\n    height: 20px;\n`;\n\nconst Controls = (props) => {\n    const { image, handleNext, handlePrev } = props;\n\n    const handleKeyboard = (e) => {\n        if (e.key === \"ArrowLeft\") {\n            // left arrow\n            handlePrev();\n        } else if (e.key === \"ArrowRight\") {\n            // right arrow\n            handleNext();\n        }\n    };\n\n    useEffect(() => {\n        window.addEventListener(\"keydown\", handleKeyboard);\n        return () => {\n            window.removeEventListener(\"keydown\", handleKeyboard);\n        };\n    }, [image]);\n\n    return (\n        <div className={controlsStyle}>\n            <button\n                className={cx(button)}\n                onClick={handlePrev}\n                title=\"Click to Go Back\"\n            >\n                <img src={arrow} className={prev} alt=\"Previous Photo\" />\n            </button>\n            {props.children}\n            <button\n                className={cx(button)}\n                onClick={handleNext}\n                title=\"Click to Advance\"\n            >\n                <img src={arrow} className={next} alt=\"Next Photo\" />\n            </button>\n        </div>\n    );\n};\nexport { Controls };\n","/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/FolderSelector.jsx",[],"/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/TitleBlock.jsx",[],"/Users/owenschoppe/Documents/GitHub/craigschoppe/src/components/Attribution.jsx",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":89,"column":7,"nodeType":"58","messageId":"59","endLine":89,"endColumn":21},{"ruleId":"60","severity":1,"message":"61","line":135,"column":8,"nodeType":"62","endLine":135,"endColumn":27,"suggestions":"63"},{"ruleId":"64","severity":1,"message":"65","line":4,"column":9,"nodeType":"66","endLine":4,"endColumn":29},{"ruleId":"64","severity":1,"message":"67","line":4,"column":9,"nodeType":"66","endLine":4,"endColumn":38},{"ruleId":"52","replacedBy":"68"},{"ruleId":"54","replacedBy":"69"},{"ruleId":"56","severity":1,"message":"70","line":1,"column":21,"nodeType":"58","messageId":"59","endLine":1,"endColumn":32},{"ruleId":"60","severity":1,"message":"71","line":61,"column":8,"nodeType":"62","endLine":61,"endColumn":15,"suggestions":"72"},{"ruleId":"73","severity":1,"message":"74","line":70,"column":17,"nodeType":"66","endLine":70,"endColumn":74},{"ruleId":"73","severity":1,"message":"74","line":78,"column":17,"nodeType":"66","endLine":78,"endColumn":70},"no-native-reassign",["75"],"no-negated-in-lhs",["76"],"no-unused-vars","'instagramStyle' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'folders' and 'images'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setImages' needs the current value of 'folders'.","ArrayExpression",["77"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md",["75"],["76"],"'useCallback' is defined but never used.","React Hook useEffect has a missing dependency: 'handleKeyboard'. Either include it or remove the dependency array.",["78"],"jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","no-global-assign","no-unsafe-negation",{"desc":"79","fix":"80"},{"desc":"81","fix":"82"},"Update the dependencies array to be: [allImages, folder, folders, images]",{"range":"83","text":"84"},"Update the dependencies array to be: [handleKeyboard, image]",{"range":"85","text":"86"},[3323,3342],"[allImages, folder, folders, images]",[1321,1328],"[handleKeyboard, image]"]